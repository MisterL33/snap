<!DOCTYPE html>
<html>
<html>
<head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async="async" src="https://www.googletagmanager.com/gtag/js?id=UA-117560058-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'UA-117560058-1');
    </script>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
        (adsbygoogle = window.adsbygoogle || []).push({
            google_ad_client: "ca-pub-9354556339780744",
            enable_page_level_ads: true
        });
    </script>
    <title>SnapHot, liste des pseudo snapchat hot de votre région </title>
    <meta name="description"
          content="Sur SnapHot trouver des snapchat coquins(ou normaux) classé par régions, rejoignez la communauté !"/>
    <meta name="keywords" content="snap hot sexy chaud snapchat rencontre"/>
    <meta name="robots" content="all"/>
    <meta name="language" content="fr"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <!--[if lte IE 8]>
    <script src="assets/js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="{{ asset('assets/css/main.css') }}"/>
    <!--[if lte IE 9]>
    <link rel="stylesheet" href="assets/css/ie9.css"/><![endif]-->
    <!--[if lte IE 8]>
    <link rel="stylesheet" href="assets/css/ie8.css"/><![endif]-->
    <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}"/>
    <link rel="stylesheet" href="{{ asset('assets/css/home.css') }}"/>
    <link rel="stylesheet" href="{{ asset('assets/css/liste.css') }}"/>


</head>

<body>
{% block header %}
    <!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header" class="header">

        <div>
            <ul id="flexMenu">
                <li style="width:30%;">
                    <img alt="snapchat" id='logo' src="{{ asset('assets/images/logosnap.png') }}"/>
                </li>
                <li>
                    <h1>SnapHot Or Not ?</h1>
                    <p>Trouvez les utilisateurs snap de votre région<br/>
                </li>


            </ul>
            <div id="page-wrap" style="margin-bottom: 37%;">
                <ul style="display: inline-flex; list-style: none; width: 100%;">
                    <li style="width: 30%;">
                        <h2>Chat live</h2>

                        <p id="name-area"></p>
                    </li>
                    <li  style="width: 70%;">
                        <div id="chat-wrap">
                            <div id="chat-area"></div>
                        </div>

                        <form id="send-message-area">
                            <p>Ton message: </p>
                            <textarea id="sendie" maxlength='100'></textarea>
                        </form>
                    </li>
                </ul>


            </div>
        </div>


    </header>

    <!-- Nav -->
    <nav id="nav">
        <ul>
            <li>
                <a href="{{ path('home') }}">Accueil</a>
            </li>
            <li>
                <a href="{{ path('register') }}">Inscription</a>
            </li>
            <li>
                <a href="{{ path('liste', { 'type': 'normal' }) }}">Liste de pseudo</a>
            </li>
            <li>
                <a href="{{ path('listeHot', { 'type': 'hot' }) }}">Liste de pseudo HOT</a>
            </li>

        </ul>
    </nav>
    {% endblock %}
    {% block body %}
    {% block footer %}

    <!-- Footer -->
    <footer id="footer">
        <section>
            <h2>Aliquam sed mauris</h2>
            <p>Sed lorem ipsum dolor sit amet et nullam consequat feugiat consequat magna adipiscing tempus etiam dolore
                veroeros. eget dapibus mauris. Cras aliquet, nisl ut viverra sollicitudin, ligula erat egestas velit,
                vitae tincidunt odio.</p>
            <ul class="actions">
                <li>
                    <a href="generic.html" class="button">Learn More</a>
                </li>
            </ul>
        </section>
        <section>
            <h2>Etiam feugiat</h2>
            <dl class="alt">
                <dt>Address</dt>
                <dd>1234 Somewhere Road &bull; Nashville, TN 00000 &bull; USA</dd>
                <dt>Phone</dt>
                <dd>(000) 000-0000 x 0000</dd>
                <dt>Email</dt>
                <dd>
                    <a href="#">information@untitled.tld</a>
                </dd>
            </dl>
            <ul class="icons">
                <li>
                    <a href="#" class="icon fa-twitter alt">
                        <span class="label">Twitter</span></a>
                </li>
                <li>
                    <a href="#" class="icon fa-facebook alt">
                        <span class="label">Facebook</span></a>
                </li>
                <li>
                    <a href="#" class="icon fa-instagram alt">
                        <span class="label">Instagram</span></a>
                </li>
                <li>
                    <a href="#" class="icon fa-github alt">
                        <span class="label">GitHub</span></a>
                </li>
                <li>
                    <a href="#" class="icon fa-dribbble alt">
                        <span class="label">Dribbble</span></a>
                </li>
            </ul>
        </section>
        <p class="copyright">&copy; Untitled. Design:
            <a href="https://html5up.net">HTML5 UP</a>.</p>
    </footer>

</div>

{% endblock %}

    <!-- Scripts -->
    <script src="{{ asset('assets/js/jquery.min.js') }}"></script>
    <script src="{{ asset('assets/js/jquery.scrollex.min.js') }}"></script>
    <script src="{{ asset('assets/js/jquery.scrolly.min.js') }}"></script>
    <script src="{{ asset('assets/js/skel.min.js') }}"></script>
    <script src="{{ asset('assets/js/util.js') }}"></script>
<!--[if lte IE 8]>
<script src="assets/js/ie/respond.min.js"></script><![endif]-->
    <script src="{{ asset('assets/js/main.js') }}"></script>


{% endblock %}
{% block javascripts %}
    <script type="text/javascript">


        var instanse = false;
        var state;
        var mes;
        var file;
        var url = '{{ path('chat') }}';

        function Chat() {
            this.update = updateChat;
            this.send = sendChat;
            this.getState = getStateOfChat;
        }

        //gets the state of the chat
        function getStateOfChat() {

            if (!instanse) {
                instanse = true;
                $.ajax({
                    type: "POST",
                    url: url,
                    data: {
                        'function': 'getState',
                        'file': file
                    },
                    dataType: "json",

                    success: function (data) {
                        //console.log(data);
                        state = data.state;
                        instanse = false;
                    },
                });
            }
        }

        //Updates the chat
        function updateChat() {
            if (!instanse) {
                instanse = true;
                $.ajax({
                    type: "POST",
                    url: url,
                    data: {
                        'function': 'update',
                        'state': state,
                        'file': file
                    },
                    dataType: "json",
                    success: function (data) {
                        console.log(data.log.text);
                        if (data.log.text) {
                            console.log('here');
                            for (var i = 0; i < data.log.text.length; i++) {
                                $('#chat-area').append($("<p class=msg>" + data.log.text[i] + "</p>"));
                            }
                        }
                        document.getElementById('chat-area').scrollTop = document.getElementById('chat-area').scrollHeight;
                        instanse = false;
                        state = data.state;
                    },
                });
            }
            else {
                setTimeout(updateChat, 1500);
            }
        }

        //send the message
        function sendChat(message, nickname) {
            updateChat();
            $.ajax({
                type: "POST",
                url: url,
                data: {
                    'function': 'send',
                    'message': message,
                    'nickname': nickname,
                    'file': file
                },
                dataType: "json",
                success: function (data) {
                    console.log(message);
                    updateChat();
                },
            });
        }

        // ask user for name with popup prompt
        var name = prompt("Entrez votre pseudo pour le chat", "Guest");

        // default name is 'Guest'
        if (!name || name === ' ') {
            name = "Guest";
        }

        // strip tags
        name = name.replace(/(<([^>]+)>)/ig, "");

        // display name on page
        $("#name-area").html("Pseudo : <span> " + name + " </span>");

        // kick off chat
        var chat = new Chat();
        $(function () {
            $(document).ready(function () {
                console.log('load');
                updateChat();
            });
            chat.getState();

            // watch textarea for key presses
            $("#sendie").keydown(function (event) {

                var key = event.which;

                //all keys including return.
                if (key >= 33) {

                    var maxLength = $(this).attr("maxlength");
                    var length = this.value.length;

                    // don't allow new content if length is maxed out
                    if (length >= maxLength) {
                        event.preventDefault();
                    }
                }
            });
            // watch textarea for release of key press
            $('#sendie').keyup(function (e) {

                if (e.keyCode == 13) {

                    var text = $(this).val();
                    var maxLength = $(this).attr("maxlength");
                    var length = text.length;

                    // send
                    if (length <= maxLength + 1) {

                        chat.send(text, name);
                        $(this).val("");

                    } else {

                        $(this).val(text.substring(0, maxLength));

                    }


                }
            });

        });
    </script>
{% endblock %}
</body>
<style>
    <
    style >
    #chat-wrap {
        border: 1px solid #eee;
        margin: 0 0 15px 0;
    }

    #chat-area {
        height: 200px;
        overflow: auto;
        border: 1px solid #666;
        padding: 20px;

    }

    #chat-area span {
        color: white;
        background: #333;
        padding: 4px 8px;
        -moz-border-radius: 5px;
        -webkit-border-radius: 8px;
        margin: 0 5px 0 0;
    }

    #chat-area p {
        padding: 8px 0;
        border-bottom: 1px solid #ccc;
    }

    .msg ul {
        display: inline-flex;
        list-style: 'none';
    }
</style>
</

style

>
<
/
html >